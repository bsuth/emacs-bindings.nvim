local
function
getWordChars
()
local
wordChars
=
{
}
for
byte
=
string
.byte(
'0'
)
,
string
.byte(
'9'
)
do
wordChars
[
string
.char(
byte
)
]
=
true
end
for
byte
=
string
.byte(
'a'
)
,
string
.byte(
'z'
)
do
wordChars
[
string
.char(
byte
)
]
=
true
end
for
byte
=
string
.byte(
'A'
)
,
string
.byte(
'Z'
)
do
wordChars
[
string
.char(
byte
)
]
=
true
end
for
i
=
1
,
#
vim
.g
.emacs_bindings_wordchars
do
wordChars
[
vim
.g
.emacs_bindings_wordchars
:sub(
i
,
i
)
]
=
true
end
return
wordChars
end
local
function
wordBack
()
local
__ERDE_TMP_6__
=
vim
.fn
.getpos(
'.'
)
local _ = __ERDE_TMP_6__[1]
local lnum = __ERDE_TMP_6__[2]
local col = __ERDE_TMP_6__[3]
if
column
==
1
then
return
end
local
newcol
=
col
local
line
=
vim
.fn
.getline(
'.'
)
local
wordChars
=
getWordChars(
)
for
i
=
col
-
1
,
1
,
-
1
do
local
char
=
line
:sub(
i
,
i
)
newcol
=
i
if
not
wordChars
[
char
:match(
'%a'
)
]
then
break
end
end
vim
.fn
.setpos(
'.'
,
{
0
,
lnum
,
newcol
,
0
,
}
)
end
return { wordBack=wordBack }
-- __ERDE_COMPILED__